<!DOCTYPE html>
<html>

<head>
    <style>
        .textarea {
        padding-top: 177.77%;
        width: 100%;
        background-color: #2e3035;
        }

        .button {
        position: relative;
        bottom: 0;
        }
    </style>
</head>

<body bgcolor="#2e3035">
    <textarea id="lista" value="" style="font-family: Arial; color: #dddddd; font-size:20px; width:100%; height:800px ; background-color:#2e3035">
    </textarea>
<br>
<button type="button" style="width:100%; height: 80px" onclick="importList()">Import</button>
<br>
<button type="button" style="width:100%; height: 80px" onclick="rollNext()">Roll the dice!</button>
<br>
<textarea id="losowany" value="" style="text-align:center; vertical-align:middle; font-family: Arial; color: #dddddd; font-size: 40px; width:100%; height:100px ; background-color:#2e3035">
</textarea>
<script>

let listaGraczy = ["Adam", "Bartek", "Czarek","Dawid", "Emil", "Filip", "Grzegorz", "Henryk"];
let listaGraczyPamiec = listaGraczy;
let losowaniePamiec = listaGraczy;
let gracz = "";

function importList (){
    listaGraczy = listaGraczy.join('\n');
    document.getElementById("lista").value = listaGraczy;
    listaGraczy = listaGraczyPamiec;
}

async function rollNext (){
    document.getElementById("losowany").style.backgroundColor="#2e3035"
    await new Promise(resolve => setTimeout(resolve, 500));
    //losowaniePamiec = listaGraczy;
    losowaniePamiec= listaGraczy.toSpliced(Math.floor(Math.random()*listaGraczy.length),1);
    gracz = listaGraczy.filter(x => !losowaniePamiec.includes(x));
    //console.log(losowaniePamiec);
    //console.log(listaGraczy);
    //console.log(gracz);
    listaGraczy = listaGraczy.join('\n');
    document.getElementById("lista").value = listaGraczy;
    listaGraczy = losowaniePamiec;
    document.getElementById("losowany").style.backgroundColor="#2e6035"
    if (gracz.length == 0) {
        gracz = "Koniec losowania"
    }
    document.getElementById("losowany").value = gracz;
    
}

</script>

</body>

</html>